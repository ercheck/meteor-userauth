<head>
	<title>User auth example for Meteor JS</title>
</head>

<body>
	{{> main}}
</body>

<template name="main">
	<h1>User auth example in Meteor</h1>
	<section class="authentication">
		<h2>Authentication</h2>
		{{#if is_authenticated}}
			<button name="logout">Logout</button>
		{{else}}
			<label>Username: <input name="username" /></label>
			<label>Password: <input name="password" type="password" /></label>
			<button name="login">Login</button>
		{{/if}}
	</section>
	<section class="users">
		<h2>Users</h2>
		<ul>
			{{#each users}}
				{{> user_row}}
			{{/each}}
		</ul>
	</section>
	<section class="records">
		<h2>Records</h2>
		<ul>
			{{#each records}}
				{{> record_row}}
			{{/each}}
		</ul>
		<h3>Add record</h3>
		<label>Title: <input name="new-record-title" /></label>
		<label>Is private: <input type="checkbox" name="new-record-is-private" /></label>
		<button name="add-new-record">add</button>
	</section>
</template>

<template name="user_row">
	<li>
		<strong>{{name}}</strong> <strike>{{username}} {{password_hash}}</strike>
	</li>
</template>

<template name="record_row">
	<li>
		<strong>{{title}}</strong>, owned by <strong>{{owner_name}}</strong>. Is private? <strong>{{is_private}}</strong>
	</li>
</template>